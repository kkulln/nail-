<script>
document.querySelector("form").addEventListener("submit", async function(e) {
  e.preventDefault();

  const data = {
    menu: document.getElementById("menu").value,
    name: document.querySelector("input[type='text']").value,
    email: document.querySelector("input[type='email']").value,
    date: document.querySelector("input[type='date']").value,
    time: document.querySelector("input[type='time']").value,
    message: document.querySelector("textarea").value
  };

  try {
    const res = await fetch("https://every-years-join.loca.lt/reserve", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(data)
    });

    const result = await res.json();
    alert("予約完了しました！");
    console.log(result);

  } catch (err) {
    console.error(err);
    alert("送信エラー");
  }
});
</script>

